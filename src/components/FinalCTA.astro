---
import en from '../i18n/locales/en.json';
import es from '../i18n/locales/es.json';

const lang = Astro.props.lang || 'en';
const translations = lang === 'es' ? es : en;
const t = (key) => translations[key] || key;
---

<section class="final-cta">
	<div class="cosmic-background-cta">
		<div class="stars-cta"></div>
		<div class="nebula-cta"></div>
	</div>

	<div class="cta-content">
		<h2 class="cta-headline">{t('finalCta.headline')}</h2>
		<p class="cta-subheadline">{t('finalCta.subheadline')}</p>

		<div class="cta-buttons">
			<button class="cta-primary cta-large">{t('finalCta.start')}</button>
			<button class="cta-secondary cta-large">{t('finalCta.call')}</button>
		</div>
	</div>
</section>



<script>
	document.addEventListener('DOMContentLoaded', () => {
		const ctaButtons = document.querySelector('.cta-buttons');
		if (ctaButtons) {
			const buttons = ctaButtons.querySelectorAll('button');
			buttons.forEach((button, index) => {
				if (index === 0) {
					// "Start Your Project" -> Contact page
					button.addEventListener('click', () => {
						window.location.href = '/contact';
					});
				} else if (index === 1) {
					// "Book a Call" -> Contact page
					button.addEventListener('click', () => {
						window.location.href = '/contact';
					});
				}
			});
		}
	});
</script>
