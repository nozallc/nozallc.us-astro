---
import en from '../i18n/locales/en.json';
import es from '../i18n/locales/es.json';

const lang = Astro.props.lang || 'en';
const translations = lang === 'es' ? es : en;
const t = (key) => translations[key] || key;
---

<section class="vendor-network">
	<div class="section-header">
		<h2>{t('vendorNetwork.title')}</h2>
		<p class="section-subtitle">{t('vendorNetwork.subtitle')}</p>
	</div>

	<div class="orbit-container">
		<div class="orbit-center">
			<img src="/NOZA.LOGO.svg" alt="NOZA LLC Logo" class="orbit-logo" width="80" height="80" />
		</div>

		<div class="orbit-nodes">
			<div class="orbit-node node-1">
				<div class="node-dot"></div>
				<p class="node-name">{t('vendorNetwork.cleaning')}</p>
			</div>
			<div class="orbit-node node-2">
				<div class="node-dot"></div>
				<p class="node-name">{t('vendorNetwork.contracting')}</p>
			</div>
			<div class="orbit-node node-3">
				<div class="node-dot"></div>
				<p class="node-name">{t('vendorNetwork.landscaping')}</p>
			</div>
			<div class="orbit-node node-4">
				<div class="node-dot"></div>
				<p class="node-name">{t('vendorNetwork.realEstate')}</p>
			</div>
			<div class="orbit-node node-5">
				<div class="node-dot"></div>
				<p class="node-name">{t('vendorNetwork.consulting')}</p>
			</div>
			<div class="orbit-node node-6">
				<div class="node-dot"></div>
				<p class="node-name">{t('vendorNetwork.digital')}</p>
			</div>
		</div>
	</div>

	<div class="vendor-info">
		<p><strong>{t('vendorNetwork.description')}</strong></p>
		<button class="cta-primary vendor-cta">{t('vendorNetwork.cta')}</button>
	</div>
</section>

<style>
	@keyframes subtle-float {
		0%, 100% { transform: translateY(0px); }
		50% { transform: translateY(-8px); }
	}

	@keyframes node-float-1 {
		0%, 100% { transform: translateY(0px); }
		50% { transform: translateY(-6px); }
	}

	@keyframes node-float-2 {
		0%, 100% { transform: translateY(0px); }
		50% { transform: translateY(-7px); }
	}

	@keyframes node-float-3 {
		0%, 100% { transform: translateY(0px); }
		50% { transform: translateY(-5px); }
	}

	@keyframes glow-pulse {
		0%, 100% {
			opacity: 0.7;
			box-shadow: 0 0 8px rgba(0, 212, 255, 0.6), 0 0 16px rgba(0, 212, 255, 0.3);
		}
		50% {
			opacity: 1;
			box-shadow: 0 0 12px rgba(0, 212, 255, 0.8), 0 0 24px rgba(0, 212, 255, 0.4);
		}
	}

	.vendor-network {
		position: relative;
		padding: 6rem 2rem;
		background: linear-gradient(180deg, var(--dark-bg) 0%, rgba(15, 24, 53, 0.8) 100%);
		z-index: 2;
	}

	.orbit-container {
		max-width: 600px;
		margin: 3rem auto;
		position: relative;
		width: 100%;
		aspect-ratio: 1;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.orbit-center {
		position: absolute;
		width: 120px;
		height: 120px;
		background: radial-gradient(circle, rgba(0, 212, 255, 0.3), transparent);
		border-radius: 50%;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		border: 2px solid var(--primary-neon);
		z-index: 10;
		box-shadow: 0 0 30px rgba(0, 212, 255, 0.5);
		animation: subtle-float 4s ease-in-out infinite;
	}

	.orbit-logo {
		width: 80px;
		height: 80px;
		object-fit: contain;
		filter: brightness(1) drop-shadow(0 0 6px rgba(0, 212, 255, 0.3));
	}

	.orbit-nodes {
		position: absolute;
		width: 100%;
		height: 100%;
	}

	.orbit-node {
		position: absolute;
		width: 100px;
		height: 100px;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		gap: 0.5rem;
		cursor: pointer;
		transition: all 0.3s ease;
	}

	.node-dot {
		width: 8px;
		height: 8px;
		border-radius: 50%;
		background: var(--primary-neon);
		opacity: 0.7;
		box-shadow: 0 0 8px rgba(0, 212, 255, 0.6), 0 0 16px rgba(0, 212, 255, 0.3);
		animation: glow-pulse 3s ease-in-out infinite;
		transition: all 0.3s ease;
	}

	.node-name {
		font-size: 0.85rem;
		color: var(--text-secondary);
		text-align: center;
		font-weight: 500;
		letter-spacing: 0.3px;
		transition: all 0.3s ease;
		max-width: 100px;
	}

	.orbit-node:hover .node-dot {
		opacity: 1;
		width: 10px;
		height: 10px;
		box-shadow: 0 0 16px rgba(0, 212, 255, 0.9), 0 0 32px rgba(0, 212, 255, 0.6);
	}

	.orbit-node:hover .node-name {
		color: var(--primary-neon);
		text-shadow: 0 0 8px rgba(0, 212, 255, 0.4);
	}

	.orbit-node:hover {
		transform: scale(1.08);
	}

	.node-1 {
		top: 5%;
		left: 50%;
		transform: translateX(-50%);
		animation: node-float-1 3.5s ease-in-out infinite;
	}

	.node-2 {
		top: 23%;
		right: 10%;
		animation: node-float-2 4s ease-in-out infinite 0.2s;
	}

	.node-3 {
		bottom: 23%;
		right: 10%;
		animation: node-float-1 3.8s ease-in-out infinite 0.4s;
	}

	.node-4 {
		bottom: 5%;
		left: 50%;
		transform: translateX(-50%);
		animation: node-float-3 4.2s ease-in-out infinite 0.6s;
	}

	.node-5 {
		bottom: 23%;
		left: 10%;
		animation: node-float-2 3.9s ease-in-out infinite 0.3s;
	}

	.node-6 {
		top: 23%;
		left: 10%;
		animation: node-float-1 4.1s ease-in-out infinite 0.5s;
	}

	@media (prefers-reduced-motion: reduce) {
		.orbit-center {
			animation: none;
		}

		.node-dot {
			animation: none;
		}

		.orbit-node {
			animation: none;
			transition: none;
		}

		.orbit-node:hover {
			transform: none;
		}

		.orbit-node:hover .node-dot {
			width: 8px;
			height: 8px;
			opacity: 0.7;
		}

		.orbit-node:hover .node-name {
			text-shadow: none;
		}

		.node-name {
			transition: none;
		}

		.node-dot {
			transition: none;
		}
	}

	.vendor-info {
		max-width: 700px;
		margin: 3rem auto;
		text-align: center;
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 2rem;
	}

	.vendor-info p {
		font-size: 1.1rem;
		line-height: 1.8;
		color: var(--text-secondary);
	}

	.vendor-info p strong {
		color: var(--text-primary);
	}

	.vendor-cta {
		align-self: center;
		margin-top: 1rem;
	}

	@media (max-width: 768px) {
		.vendor-network {
			padding: 4rem 1.5rem;
		}

		.orbit-container {
			margin: 2rem auto;
			max-width: 450px;
		}

		.orbit-center {
			width: 100px;
			height: 100px;
		}

		.orbit-logo {
			width: 65px;
			height: 65px;
		}

		.orbit-node {
			width: 85px;
			height: 85px;
		}

		.node-name {
			font-size: 0.75rem;
			max-width: 80px;
		}

		.node-1 { top: 8%; }
		.node-2 { top: 28%; right: 12%; }
		.node-3 { bottom: 28%; right: 12%; }
		.node-4 { bottom: 8%; }
		.node-5 { bottom: 28%; left: 12%; }
		.node-6 { top: 28%; left: 12%; }

		.vendor-info {
			margin: 2rem 1rem;
		}

		.vendor-info p {
			font-size: 1rem;
		}
	}

	@media (max-width: 480px) {
		.vendor-network {
			padding: 3rem 1rem;
		}

		.orbit-container {
			margin: 1.5rem auto;
			max-width: 350px;
		}

		.orbit-center {
			width: 85px;
			height: 85px;
		}

		.orbit-logo {
			width: 55px;
			height: 55px;
		}

		.orbit-node {
			width: 75px;
			height: 75px;
		}

		.node-dot {
			width: 6px;
			height: 6px;
		}

		.node-name {
			font-size: 0.7rem;
			max-width: 70px;
		}
	}
</style>
