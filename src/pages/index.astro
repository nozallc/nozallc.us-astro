---
// Root index page that redirects to the appropriate language version
// Note: Using client-side redirect because output is 'static'
// Astro.redirect() cannot be used with output: 'static'
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NOZA LLC - Redirecting...</title>
  <script>
    // Get preferred language from localStorage or default to 'en'
    const preferredLang = localStorage.getItem('preferredLanguage') || 'en';

    // Validate language
    const validLangs = ['en', 'es'];
    const lang = validLangs.includes(preferredLang) ? preferredLang : 'en';

    // Redirect to language-specific home page
    window.location.replace(`/${lang}/`);
  </script>
  <!-- Fallback meta redirect for browsers with JavaScript disabled -->
  <meta http-equiv="refresh" content="0; url=/en/" />
  <noscript>
    <p>Redirecting to <a href="/en/">home page</a>...</p>
  </noscript>
</head>
<body></body>
</html>
